(function(){var a;a=angular.module("daterangepicker",[]),a.constant("dateRangePickerConfig",{cancelOnOutsideClick:!0,locale:{separator:" - ",format:"YYYY-MM-DD",clearLabel:"Clear"}}),a.directive("dateRangePicker",["$compile","$timeout","$parse","dateRangePickerConfig",function(a,b,c,d){return{require:"ngModel",restrict:"A",scope:{min:"=",max:"=",picker:"=?",model:"=ngModel",opts:"=options",clearable:"="},link:function(a,b,c,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return i=function(){var a,b;return b=angular.extend.apply(angular,Array.prototype.slice.call(arguments).map(function(a){return null!=a?a.locale:void 0}).filter(function(a){return!!a})),a=angular.extend.apply(angular,arguments),a.locale=b,a},r=$(b),r.attr("ng-trim","false"),c.ngTrim="false",q=a.opts,t=i({},angular.copy(d),q),j=null,f=function(){return j.setStartDate(),j.setEndDate()},k=function(a){return function(b){if(b&&(!moment.isMoment(b)||b.isValid()))return b=moment(b),j?a(b):void 0}},m=k(function(a){return a&&j.endDate<a&&j.setEndDate(a),t.startDate=a,j.setStartDate(a)}),l=k(function(a){return a&&j.startDate>a&&j.setStartDate(a),t.endDate=a,j.setEndDate(a)}),n=function(a){return function(b,c){return!b||!c||a(moment(b),moment(c))}},p=n(function(a,b){return a.isBefore(b)||a.isSame(b,"day")}),o=n(function(a,b){return a.isAfter(b)||a.isSame(b,"day")}),s=function(a){var b;return b=function(a){return moment.isMoment(a)?a.format(t.locale.format):moment(a).format(t.locale.format)},t.singleDatePicker&&a?b(a):a&&(a.startDate||a.endDate)?[b(a.startDate),b(a.endDate)].join(t.locale.separator):""},e.$formatters.push(function(a){return s(a)}),e.$renderOriginal=e.$render,e.$render=function(){return e.$modelValue&&t.singleDatePicker&&(m(e.$modelValue),l(e.$modelValue)),e.$modelValue&&(e.$modelValue.startDate||e.$modelValue.endDate)?(m(e.$modelValue.startDate),l(e.$modelValue.endDate)):f(),e.$renderOriginal()},e.$parsers.push(function(a){var b,c,d;return b=function(a){var b;return b=moment(a,t.locale.format),b.isValid()&&b||null},c=t.singleDatePicker?null:{startDate:null,endDate:null},angular.isString(a)&&a.length>0&&(t.singleDatePicker?c=b(a):(d=a.split(t.locale.separator).map(b),c.startDate=d[0]?d[0].startOf("day"):null,c.endDate=d[1]?d[1].endOf("day"):null)),c}),e.$isEmpty=function(a){return!(angular.isString(a)&&a.length>0)},g=function(){var b,d;r.daterangepicker(angular.extend(t,{autoUpdateInput:!1}),function(b,c,d){return a.$apply(function(){if("function"==typeof t.changeCallback)return t.changeCallback.apply(this,arguments)})}),j=r.data("daterangepicker"),a.picker=j,j.container.hide(),j.container.addClass((t.pickerClasses||"")+" "+(c.pickerClasses||"")),r.on("show.daterangepicker",function(b,c){return a.$apply(function(){t.singleDatePicker?c.startDate.isSame(a.model)||(m(a.model),l(a.model)):(c.startDate.isSame(a.model.startDate)||m(a.model.startDate),c.endDate.isSame(a.model.endDate)||l(a.model.endDate)),c.updateView()})}),r.on("apply.daterangepicker",function(b,c){return a.$apply(function(){t.singleDatePicker?c.startDate?c.startDate.isSame(a.model)||(a.model=c.startDate):a.model=null:c.startDate.isSame(c.oldStartDate)&&c.endDate.isSame(c.oldEndDate)&&c.startDate.isSame(a.model.startDate)&&c.endDate.isSame(a.model.endDate)||(a.model={startDate:c.startDate,endDate:c.endDate,label:c.chosenLabel})})}),r.on("outsideClick.daterangepicker",function(b,c){return t.cancelOnOutsideClick?a.$apply(function(){return c.clickCancel()}):c.clickApply()}),d=[];for(b in t.eventHandlers)d.push(r.on(b,function(b,c){var d;return d=b.type+"."+b.namespace,a.$evalAsync(t.eventHandlers[d])}));return d},g(),a.$watch(function(){return s(a.model)},function(a){return"function"==typeof e.$processModelValue?e.$processModelValue():("function"==typeof e.$$updateEmptyClasses&&e.$$updateEmptyClasses(a),e.$viewValue=e.$$lastCommittedViewValue=a,e.$render())}),h=function(b,d,f,h){if(c[b])return e.$validators[b]=function(a){return a&&d(t[h],a[f])},a.$watch(b,function(a){return t[h]=!!a&&moment(a),g()})},h("min",p,"startDate","minDate"),h("max",o,"endDate","maxDate"),c.options&&a.$watch("opts",function(a){return t=i(t,a),g()},!0),c.clearable&&a.$watch("clearable",function(b){if(b&&(t=i(t,{locale:{cancelLabel:t.locale.clearLabel}})),g(),b)return r.on("cancel.daterangepicker",function(){return a.$apply(function(){return a.model=t.singleDatePicker?null:{startDate:null,endDate:null}})})}),a.$on("$destroy",function(){return null!=j?j.remove():void 0})}}}])}).call(this);
//# sourceMappingURL=angular-daterangepicker.min.js.map