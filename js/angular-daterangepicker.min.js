(function(){var a;a=angular.module("daterangepicker",[]),a.constant("dateRangePickerConfig",{cancelOnOutsideClick:!0,locale:{separator:" - ",format:"YYYY-MM-DD",clearLabel:"Clear"}}),a.directive("dateRangePicker",["$compile","$timeout","$parse","dateRangePickerConfig",function(a,b,c,d){return{require:"ngModel",restrict:"A",scope:{min:"=",max:"=",picker:"=?",model:"=ngModel",opts:"=options",clearable:"="},link:function(a,c,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s;return j=function(){var a,b;return b=angular.extend.apply(angular,Array.prototype.slice.call(arguments).map(function(a){return null!=a?a.locale:void 0}).filter(function(a){return!!a})),a=angular.extend.apply(angular,arguments),a.locale=b,a},q=$(c),q.attr("ng-trim","false"),e.ngTrim="false",function(){var a,b;if(b=f.$options&&"function"==typeof f.$options.getOption?f.$options.getOption("updateOn"):f.$options&&f.$options.updateOn||"",!b.includes("change"))return"function"==typeof f.$overrideModelOptions?(b+=" change",f.$overrideModelOptions({updateOn:b})):(b+=" change",b.replace(/default/g," "),a=angular.copy(f.$options)||{},a.updateOn=b,a.updateOnDefault=!1,f.$options=a)}(),p=a.opts,s=j({},angular.copy(d),p),k=null,g=function(){return k.setStartDate(),k.setEndDate()},l=function(a){return function(b){if(b&&(!moment.isMoment(b)||b.isValid()))return b=moment(b),k?a(b):void 0}},n=l(function(a){return a&&k.endDate<a&&k.setEndDate(a),k.setStartDate(a),s.startDate=k.startDate}),m=l(function(a){return a&&k.startDate>a?(k.setEndDate(k.startDate),s.endDate=k.endDate,k.setStartDate(a),s.startDate=k.startDate):(k.setEndDate(a),s.endDate=k.endDate)}),r=function(a){var b;return b=function(a){return moment.isMoment(a)?a.format(s.locale.format):moment(a).format(s.locale.format)},s.singleDatePicker&&a?b(a):a&&(a.startDate||a.endDate)?[b(a.startDate),b(a.endDate)].join(s.locale.separator):""},f.$formatters.push(function(a){return r(a)}),f.$renderOriginal=f.$render,f.$render=function(){if(f.$modelValue&&s.singleDatePicker&&(n(f.$modelValue),m(f.$modelValue)),f.$modelValue&&(f.$modelValue.startDate||f.$modelValue.endDate)?(n(f.$modelValue.startDate),m(f.$modelValue.endDate)):g(),f.$valid)return f.$renderOriginal()},f.$parsers.push(function(a){var b,c,d;return b=function(a){var b;return b=moment(a,s.locale.format),b.isValid()&&b||null},c=s.singleDatePicker?null:{startDate:null,endDate:null},angular.isString(a)&&a.length>0&&(s.singleDatePicker?c=b(a):(d=a.split(s.locale.separator).map(b),c.startDate=d[0]?d[0].startOf("day"):null,c.endDate=d[1]?d[1].endOf("day"):null)),c}),f.$isEmpty=function(a){return!(angular.isString(a)&&a.length>0)},h=function(){var b,c;q.daterangepicker(angular.extend(s,{autoUpdateInput:!1}),function(b,c,d){return a.$apply(function(){if("function"==typeof s.changeCallback)return s.changeCallback.apply(this,arguments)})}),k=q.data("daterangepicker"),a.picker=k,k.container.hide(),k.container.addClass((s.pickerClasses||"")+" "+(e.pickerClasses||"")),q.on("show.daterangepicker",function(b,c){return a.$apply(function(){s.singleDatePicker?c.startDate.isSame(a.model)||(n(a.model),m(a.model)):(a.model&&!c.startDate.isSame(a.model.startDate)&&n(a.model.startDate),a.model&&!c.endDate.isSame(a.model.endDate)&&m(a.model.endDate)),c.updateView()})}),q.on("apply.daterangepicker",function(b,c){return a.$apply(function(){s.singleDatePicker?c.startDate?c.startDate.isSame(a.model)||(a.model=c.startDate):a.model=null:c.startDate.isSame(c.oldStartDate)&&c.endDate.isSame(c.oldEndDate)&&a.model&&c.startDate.isSame(a.model.startDate)&&c.endDate.isSame(a.model.endDate)||(a.model={startDate:c.startDate,endDate:c.endDate,label:c.chosenLabel})})}),q.on("outsideClick.daterangepicker",function(b,c){return s.cancelOnOutsideClick?a.$apply(function(){return c.clickCancel()}):c.clickApply()}),c=[];for(b in s.eventHandlers)c.push(q.on(b,function(b,c){var d;return d=b.type+"."+b.namespace,a.$evalAsync(s.eventHandlers[d])}));return c},h(),a.$watch(function(){return r(a.model)},function(a){return"function"==typeof f.$processModelValue?f.$processModelValue():("function"==typeof f.$$updateEmptyClasses&&f.$$updateEmptyClasses(a),f.$viewValue=f.$$lastCommittedViewValue=a,f.$render())}),o=function(a,b,c){var d;return!a||!b&&!c||(d=[a,b,c].map(function(a){return moment(a)}),a=d[0],b=d[1],c=d[2],(b.isBefore(a)||b.isSame(a,"day"))&&(c.isSame(a,"day")||c.isAfter(a)))},f.$validators.invalid=function(a,b){var c,d;return c=e.required&&!f.$isEmpty(b),d=s.singleDatePicker?a&&a.isValid():a&&a.startDate&&a.startDate.isValid()&&a.endDate&&a.endDate.isValid(),!c||!!d},i=function(b,c,d,g){if((e[b]||s[g])&&(f.$validators[b]=function(a){return s.singleDatePicker?"min"===b?a&&c(a,s.minDate,a):"max"===b?a&&c(a,a,s.maxDate):void 0:a&&c(a[d],s.minDate,s.maxDate)},e[b]))return a.$watch(b,function(a){return s[g]=!!a&&moment(a),h()})},i("min",o,"startDate","minDate"),i("max",o,"endDate","maxDate"),e.options&&a.$watch("opts",function(a){return s=j(s,a),h()},!0),e.clearable&&a.$watch("clearable",function(c){if(c&&(s=j(s,{locale:{cancelLabel:s.locale.clearLabel}})),h(),c)return q.on("cancel.daterangepicker",function(){return a.model=s.singleDatePicker?null:{startDate:null,endDate:null},b(function(){return a.$apply()})})}),a.$on("$destroy",function(){return null!=k?k.remove():void 0})}}}])}).call(this);
//# sourceMappingURL=angular-daterangepicker.min.js.map